import{a as d,c as E,c8 as x,aa as M,ab as R,j as g}from"./sanity.config-D67JuA4O.js";function w(u){const e=E.c(9),{comlink:r,type:s,previewKitConnection:n,loadersConnection:o}=u;let t;e[0]!==u.id?(t=x(u.id),e[0]=u.id,e[1]=t):t=e[1];const i=t,{selectedReleaseId:p}=M(),{draft:a,published:l,ready:f,version:_}=R(i,s,"low",p),c=n==="connected"||o==="connected";if(f&&a||l){let v;return e[2]!==r||e[3]!==a||e[4]!==i||e[5]!==c||e[6]!==l||e[7]!==_?(v=g.jsx(S,{comlink:r,draft:a,livePreviewEnabled:c,published:l,version:_},i),e[2]=r,e[3]=a,e[4]=i,e[5]=c,e[6]=l,e[7]=_,e[8]=v):v=e[8],v}return null}function S(u){const e=E.c(18),{comlink:r,draft:s,published:n,livePreviewEnabled:o,version:t}=u,[i,p]=d.useState(s),[a,l]=d.useState(n),[f,_]=d.useState(t);let c;e[0]!==r||e[1]!==s||e[2]!==o||e[3]!==i?._rev||e[4]!==a?._rev||e[5]!==f?._rev||e[6]!==n||e[7]!==t?(c=()=>{f?._rev!==t?._rev&&(d.startTransition(()=>_(t)),t&&r?.post("presentation/refresh",{source:"mutation",livePreviewEnabled:o,document:b(t)})),i?._rev!==s?._rev&&(d.startTransition(()=>p(s)),s&&r?.post("presentation/refresh",{source:"mutation",livePreviewEnabled:o,document:b(s)})),a?._rev!==n?._rev&&(d.startTransition(()=>l(n)),n&&r?.post("presentation/refresh",{source:"mutation",livePreviewEnabled:o,document:b(n)}))},e[0]=r,e[1]=s,e[2]=o,e[3]=i?._rev,e[4]=a?._rev,e[5]=f?._rev,e[6]=n,e[7]=t,e[8]=c):c=e[8];const v=i?._rev,P=a?._rev,h=f?._rev;let m;return e[9]!==r||e[10]!==s||e[11]!==o||e[12]!==n||e[13]!==v||e[14]!==P||e[15]!==h||e[16]!==t?(m=[r,s,o,v,P,n,h,t],e[9]=r,e[10]=s,e[11]=o,e[12]=n,e[13]=v,e[14]=P,e[15]=h,e[16]=t,e[17]=m):m=e[17],d.useEffect(c,m),null}function b(u){const{_id:e,_type:r,_rev:s,slug:n}=u;return{_id:e,_type:r,_rev:s,slug:n}}var y=d.memo(w);export{y as default};
